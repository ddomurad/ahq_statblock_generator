{"version":3,"sources":["components/Stats.js","utils/Settings.js","utils/Parser.js","components/App.js","index.js"],"names":["Stats","props","p","o","fsize","lineHeight","text","options","labels","stats","renderRect","size","s","x","transform","y","width","height","strokeWidth","stroke","borderColor","fill","renderFilledRect","color","renderVLine","h","key","x1","y1","x2","y2","renderHLine","w","renderCenterText","fntStyle","textAnchor","style","fontSize","fontFamily","renderCenterTextarea","split","map","t","i","renderRepeat","n","fnc","Array","e","v","m","scale","defaultFontStyle","textColor","textBorder","textStroke","textFont","headerFontStyle","headerColor1","headerBorder1","headerStroke1","headerFont","header2FontStyle","headerColor2","headerBorder2","headerStroke2","nameFontStyle","nameColor","nameBorder","nameStroke","hasType","type","extraHandToHandStats","handToHand","fumble","critical","extraRangeStats","rangeStats","className","borderStroke1","bgColor","nameBgColor","typeBgColor","headerBgColor","borderStroke2","textScale1","name","chars","k","textScale2","textScale3","targetWs","hitRoll","damageDice","hitRolls","range","maxRange","hitRanges","notes","notesColor","notesBorder","notesStroke","notesFont","renderNotesText","typeColor","typeStroke","typeBorder","txt","l","trim","filter","b","getOrDefault","arr","def","length","lines","names","ranged","slice","parseStatsBlock","console","error","JSON","parse","EmbededFontsList","App","useState","editStats","editStyle","editLabels","editorSettings","setEditorSettings","localStorage","getItem","Settings","statsText","setStatsText","styleText","setStyleText","labelsText","setLabelsText","Parses","setStats","setStyle","setLabels","onStatsChange","setItem","onStyleChange","onLabelsChange","onInsertTemplate","template","onStyleReset","scheme","renderStats","checked","onChange","onClick","setTimeout","window","print","value","target","f","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f1eec37.chunk.js","sourcesContent":["import \"../styles/Stats.css\"\r\n\r\nfunction Stats(props) {\r\n    const {options, labels, stats} = props;\r\n\r\n    const renderRect = (p, size, s) => <rect \r\n        x={transform(p[0])} \r\n        y={transform(p[1])} \r\n        width={transform(size[0])} \r\n        height={transform(size[1])} \r\n        strokeWidth={transform(s)} \r\n        stroke={options.borderColor}\r\n        fill=\"none\" />\r\n    \r\n    const renderFilledRect = (p, size, s, color) => <rect \r\n        x={transform(p[0])} \r\n        y={transform(p[1])} \r\n        width={transform(size[0])} \r\n        height={transform(size[1])} \r\n        strokeWidth={transform(s)} \r\n        stroke={options.borderColor}\r\n        fill={color} />\r\n\r\n    const renderVLine = (x, y, h, s, key) => <line \r\n        x1={transform(x)} \r\n        y1={transform(y)} \r\n        x2={transform(x)} \r\n        y2={transform(y+h)} \r\n        strokeWidth={transform(s)}\r\n        stroke={options.borderColor} \r\n        key={key} />\r\n\r\n    const renderHLine = (x, y, w, s, key) => <line \r\n        x1={transform(x)} \r\n        y1={transform(y)} \r\n        x2={transform(x+w)} \r\n        y2={transform(y)} \r\n        strokeWidth={transform(s)}\r\n        stroke={options.borderColor} \r\n        key={key} />\r\n\r\n    const renderCenterText = (p, o, fsize, fntStyle, text, key) => <text \r\n        x={transform(p[0], o[0])} \r\n        y={transform(p[1], o[1])} \r\n        textAnchor=\"middle\"\r\n        {...fntStyle}\r\n        style={{fontSize:transform(fsize), fontFamily: fntStyle.fontFamily}}\r\n        key={key} >\r\n        {text}\r\n    </text>\r\n\r\n    const renderNotesText = (p, o, fsize, text, key) => <text \r\n        x={transform(p[0], o[0])} \r\n        y={transform(p[1], o[1])}\r\n        fill={options.notesColor}\r\n        stroke={options.notesBorder}\r\n        strokeWidth={options.notesStroke}\r\n        style={{fontSize:transform(fsize), fontFamily: options.notesFont}} \r\n        key={key} >\r\n        {text}\r\n    </text>\r\n\r\n    const renderCenterTextarea = (p, o, fsize, lineHeight, fntStyle, text) => \r\n        text.split('\\n')\r\n        .map((t, i) => renderCenterText([p[0], p[1] + i*lineHeight], o, fsize, fntStyle, t, i))\r\n\r\n    const renderNotesTextarea = (p, o, fsize, lineHeight, text) => \r\n        text.map((t, i) => renderNotesText([p[0], p[1] + i*lineHeight], o, fsize, t, i))\r\n\r\n    const renderRepeat = (n, fnc) => [...Array(n)].map((e, i) => fnc(i))\r\n    const mapKeys = (o, fnc) => Object.keys(o).map((k, i) => fnc(k, i))\r\n\r\n    const transform = (v, m) => {\r\n        if (!m) {\r\n            return v*options.scale;\r\n        }\r\n\r\n        return v*options.scale + m*options.scale;\r\n    }\r\n\r\n    const defaultFontStyle = {\r\n        fill: options.textColor,\r\n        stroke: options.textBorder,\r\n        strokeWidth: transform(options.textStroke),\r\n        fontFamily: options.textFont\r\n    }\r\n\r\n    const headerFontStyle = {\r\n        fill: options.headerColor1,\r\n        stroke: options.headerBorder1,\r\n        strokeWidth: transform(options.headerStroke1),\r\n        fontFamily: options.headerFont\r\n    }\r\n\r\n    const header2FontStyle = {\r\n        fill: options.headerColor2,\r\n        stroke: options.headerBorder2,\r\n        strokeWidth: transform(options.headerStroke2),\r\n        fontFamily: options.headerFont\r\n    }\r\n\r\n    const nameFontStyle = {\r\n        fill: options.nameColor,\r\n        stroke: options.nameBorder,\r\n        strokeWidth: transform(options.nameStroke),\r\n        fontFamily: options.headerFont\r\n    }\r\n\r\n    const hasType = stats.type && stats.type !== \"\";\r\n    const extraHandToHandStats = stats.handToHand.fumble || stats.handToHand.critical;\r\n    const extraRangeStats = stats.rangeStats.fumble || stats.rangeStats.critical;\r\n\r\n    return <svg width={transform(100, 2)} height={transform(80, 2)} className=\"stats\">\r\n        {renderFilledRect([1, 1], [90, 80], options.borderStroke1, options.bgColor)}\r\n        {renderFilledRect([1, 1], [90, 10], options.borderStroke1, options.nameBgColor)}\r\n\r\n        {hasType && renderFilledRect([91, 1], [10, 80], options.borderStroke1,  options.typeBgColor)}\r\n        {renderFilledRect([1, 11], [90, 8], 0, options.headerBgColor)}\r\n        \r\n        {extraHandToHandStats && \r\n            renderFilledRect([1, 27], [56.25, 6], 0, options.headerBgColor)}\r\n        {!extraHandToHandStats && \r\n            renderFilledRect([1, 27], [90, 6], 0, options.headerBgColor)}\r\n        {extraHandToHandStats && \r\n            renderFilledRect([68.25, 27], [11.25, 6], 0, options.headerBgColor)}\r\n\r\n        {extraRangeStats &&\r\n            renderFilledRect([1, 45], [56.25, 6], 0, options.headerBgColor)}\r\n        {!extraRangeStats &&\r\n            renderFilledRect([1, 45], [90, 6], 0, options.headerBgColor)}\r\n        {extraRangeStats && \r\n            renderFilledRect([68.25, 45], [11.25, 6], 0, options.headerBgColor)}\r\n        \r\n        {renderFilledRect([1, 63], [90, 6], 0, options.headerBgColor)}\r\n        \r\n        {renderRect([1, 11], [90, 16], options.borderStroke1)}\r\n        {renderRect([1, 27], [90, 18], options.borderStroke1)}\r\n        {renderRect([1, 45], [90, 18], options.borderStroke1)}\r\n        {renderRect([1, 63], [90, 18], options.borderStroke1)}\r\n\r\n        {renderRepeat(8, (i) => renderVLine(10*(i+1)+1, 11, 16, options.borderStroke2, i))}\r\n        {renderHLine(1, 19, 90, options.borderStroke2)}\r\n\r\n        {renderHLine(1, 33, 90, options.borderStroke2)}\r\n        {renderHLine(1, 39, 90, options.borderStroke2)}\r\n        \r\n        {extraHandToHandStats && renderVLine(46, 27, 6, options.borderStroke2)}\r\n        {extraHandToHandStats && renderVLine(57.25, 27, 6, options.borderStroke2)}\r\n        {extraHandToHandStats && renderVLine(68.5, 27, 6, options.borderStroke2)}\r\n        {extraHandToHandStats && renderVLine(79.75, 27, 6, options.borderStroke2)}\r\n        {renderRepeat(13, (i) => renderVLine(5.625*i+12.25, 33, 12, options.borderStroke2, i))}\r\n\r\n        {renderHLine(1, 51, 90, options.borderStroke2)}\r\n        {renderHLine(1, 57, 90, options.borderStroke2)}\r\n        \r\n        {extraRangeStats && renderVLine(46, 45, 6, options.borderStroke2)}\r\n        {extraRangeStats && renderVLine(57.25, 45, 6, options.borderStroke2)}\r\n        {extraRangeStats && renderVLine(68.5, 45, 6, options.borderStroke2)}\r\n        {extraRangeStats && renderVLine(79.75, 45, 6, options.borderStroke2)}\r\n        \r\n        {renderRepeat(7, (i) => renderVLine(11.25*i+12.25, 51, 12, options.borderStroke2, i))}\r\n\r\n        {renderHLine(1, 69, 90, options.borderStroke2)}\r\n\r\n        {renderCenterText([90/2, 10/2], [1, 3*options.textScale1], 5*options.textScale1, nameFontStyle, stats.name)}\r\n        \r\n        {labels.chars.map((k, i) => renderCenterText([(10*i) + 10/2, 15], [1, 2.1], 4*options.textScale1, headerFontStyle, k, i))}\r\n        {stats.chars.map((k, i) => renderCenterText([(10*i) + 10/2, 22], [1, 2.1], 4*options.textScale1, defaultFontStyle, k, i))}\r\n\r\n        {extraHandToHandStats &&\r\n            renderCenterText([46/2, 29.5], [1, 2*options.textScale1], 4*options.textScale1, headerFontStyle, labels.handToHand.handToHand)}\r\n        {!extraHandToHandStats &&\r\n            renderCenterText([90/2, 29.5], [1, 2*options.textScale1], 4*options.textScale1, headerFontStyle, labels.handToHand.handToHand)}\r\n\r\n        {extraHandToHandStats && \r\n            renderCenterText([50.625, 29.5], [1, 1.8], 2.8*options.textScale2, header2FontStyle, labels.handToHand.fumble)}\r\n        {extraHandToHandStats && \r\n            renderCenterText([61.875, 29.5], [1, 2.1], 4*options.textScale3, defaultFontStyle, stats.handToHand.fumble)}\r\n        {extraHandToHandStats && \r\n            renderCenterText([73.125, 29.5], [1, 1.8], 2.4*options.textScale2, header2FontStyle, labels.handToHand.critical)}\r\n        {extraHandToHandStats && \r\n            renderCenterText([84.625, 29.5], [1, 2.1], 4*options.textScale3, defaultFontStyle, stats.handToHand.critical)}\r\n\r\n        {renderCenterTextarea([5.625, 34], [1, 2], 3*options.textScale2, 2.5*options.textScale2, defaultFontStyle, labels.handToHand.targetWs)}\r\n        {renderCenterTextarea([5.625, 39.8], [1, 2], 3*options.textScale2, 2.5*options.textScale2, defaultFontStyle, labels.handToHand.hitRoll)}\r\n        {renderCenterTextarea([5.625*15, 34], [1, 2], 3*options.textScale2, 2.5*options.textScale2, defaultFontStyle, labels.handToHand.damageDice)}\r\n\r\n        {renderRepeat(12, (i) => renderCenterText([5.625*i+14.25, 36], [1, 2], 4*options.textScale3, defaultFontStyle, i+1, i))}\r\n        {stats.handToHand.hitRolls.map((v, i) => renderCenterText([5.625*i+14.25, 41.5], [1, 2], 4*options.textScale3, defaultFontStyle, v, i))}\r\n\r\n        {renderCenterText([5.625*15, 41.5], [1, 2.1], 4*options.textScale3, defaultFontStyle, stats.handToHand.damageDice)}\r\n\r\n        {extraRangeStats &&\r\n            renderCenterText([46/2, 47.4], [1, 2*options.textScale1], 4*options.textScale1, headerFontStyle, labels.rangeStats.rangeStats)}\r\n        {!extraRangeStats &&\r\n            renderCenterText([90/2, 47.4], [1, 2*options.textScale1], 4*options.textScale1, headerFontStyle, labels.rangeStats.rangeStats)}\r\n\r\n        {extraRangeStats &&\r\n            renderCenterText([50.625, 47.4], [1, 1.8], 2.8*options.textScale2, header2FontStyle, labels.rangeStats.fumble)}\r\n        {extraRangeStats && \r\n            renderCenterText([61.875, 47.4], [1, 2.1], 4*options.textScale3, defaultFontStyle, stats.rangeStats.fumble)}\r\n        {extraRangeStats && \r\n            renderCenterText([73.125, 47.4], [1, 1.8], 2.4*options.textScale2, header2FontStyle, labels.rangeStats.critical)}\r\n        {renderCenterText([84.625, 47.4], [1, 2.1], 4*options.textScale3, defaultFontStyle, stats.rangeStats.critical)}\r\n\r\n        {renderCenterTextarea([5.625, 53], [1, 2], 3*options.textScale2, 2.5*options.textScale2, defaultFontStyle, labels.rangeStats.range)}\r\n        {renderCenterTextarea([5.625, 57.8], [1, 2], 3*options.textScale2, 2.5*options.textScale2, defaultFontStyle, labels.rangeStats.hitRoll)}\r\n        {renderCenterTextarea([5.625*13, 52], [1, 2], 3*options.textScale2, 2.5*options.textScale2, defaultFontStyle, labels.rangeStats.maxRange)}\r\n        {renderCenterTextarea([5.625*15, 52], [1, 2], 3*options.textScale2, 2.5*options.textScale2, defaultFontStyle, labels.rangeStats.damageDice)}\r\n\r\n        {stats.rangeStats.hitRanges.map((k, i) => renderCenterText([11.25*i + 16.875, 53], [1, 2], 3*options.textScale3, defaultFontStyle, k, i))}\r\n        {stats.rangeStats.hitRolls.map((k, i) => renderCenterText([11.25*i + 16.875, 59], [1, 2], 3*options.textScale3, defaultFontStyle, k, i))}\r\n\r\n        {renderCenterText([5.625*13, 59], [1, 2.1], 3*options.textScale3, defaultFontStyle, stats.rangeStats.maxRange)}\r\n        {renderCenterText([5.625*15, 59], [1, 2.1], 3*options.textScale3, defaultFontStyle, stats.rangeStats.damageDice)}\r\n\r\n        {renderCenterText([45, 65], [1, 2.5*options.textScale1], 4*options.textScale1, headerFontStyle, labels.notes)}\r\n        {renderNotesTextarea([2, 70.5], [1, 2], 3.5*options.textScale3, 3.5*options.textScale3, stats.notes)}\r\n        \r\n        {hasType && <text \r\n            textAnchor=\"middle\" \r\n            style={{fontSize:transform(6*options.textScale1), fontFamily: options.headerFont}} \r\n            transform={`rotate(90) translate(${transform(40)}, ${transform(-94)})`}\r\n            fill={options.typeColor}\r\n            strokeWidth={transform(options.typeStroke)}\r\n            stroke={options.typeBorder}\r\n        >\r\n            {stats.type}\r\n        </text>}\r\n        \r\n    </svg>\r\n}\r\n\r\nexport default Stats;","const templateStates = `@: Template monster\r\nsp,ws,bs,s,t,w,br,int,pv\r\ndmg\r\n4,5,6,7,8,9,10,10,10,10,10,10\r\nrange, dmg\r\n1-3, 4-12, 13-24, 25-36, 37+\r\n8, 10, 11, MISS, MISS\r\nnote line 1\r\nnote line 2\r\nnote line 3\r\n\r\n`;\r\n\r\nconst templateStatesAlternate = `@: Template monster, Optional Text\r\nsp,ws,bs,s,t,w,br,int,pv\r\ndmg, fum, crit\r\n4,5,6,7,8,9,10,10,10,10,10,10\r\nrange, dmg, fum, crit\r\n1-3, 4-12, 13-24, 25-36, 37+\r\n8, 10, 11, MISS, MISS\r\nnote line 1\r\nnote line 2\r\nnote line 3\r\n\r\n`;\r\n\r\nconst defaultStyle = `{\r\n    \"scale\": 3.3,\r\n    \r\n    \"bgColor\": \"#fff\",\r\n    \"nameBgColor\": \"#fff\",\r\n    \"typeBgColor\": \"#000\",\r\n    \"headerBgColor\": \"#000\",\r\n    \r\n    \"nameColor\": \"#000\",\r\n    \"typeColor\": \"#fff\",\r\n    \"textColor\": \"#000\",\r\n    \"headerColor1\": \"#fff\",\r\n    \"headerColor2\": \"#fff\",\r\n    \"notesColor\": \"#000\",\r\n\r\n    \"borderColor\": \"#000\",\r\n    \"nameBorder\": \"#000\",\r\n    \"typeBorder\": \"\",\r\n    \"headerBorder1\": \"\",\r\n    \"headerBorder2\": \"\",\r\n    \"textBorder\": \"\",\r\n    \"notesBorder\": \"#000\",\r\n\r\n    \"borderStroke1\": \"1\",\r\n    \"borderStroke2\": \"0.5\",\r\n    \"nameStroke\": \"0.3\",\r\n    \"typeStroke\": \"\",\r\n    \"headerStroke1\": \"\",\r\n    \"headerStroke2\": \"\",\r\n    \"textStroke\": \"\",\r\n    \"notesStroke\": \"0.2\",\r\n\r\n    \"headerFont\": \"Frijole\",\r\n    \"textFont\": \"Frijole\",\r\n    \"notesFont\": \"Indie Flower\",\r\n\r\n    \"textScale1\": 1,\r\n    \"textScale2\": 0.7,\r\n    \"textScale3\": 0.9\r\n}`;\r\n\r\nconst heroquestStyle = `{\r\n    \"scale\": 3.3,\r\n    \r\n    \"bgColor\": \"#fff\",\r\n    \"nameBgColor\": \"#fff\",\r\n    \"typeBgColor\": \"#000\",\r\n    \"headerBgColor\": \"#000\",\r\n    \r\n    \"nameColor\": \"#000\",\r\n    \"typeColor\": \"#fff\",\r\n    \"textColor\": \"#000\",\r\n    \"headerColor1\": \"#fff\",\r\n    \"headerColor2\": \"#fff\",\r\n    \"notesColor\": \"#000\",\r\n\r\n    \"borderColor\": \"#000\",\r\n    \"nameBorder\": \"#000\",\r\n    \"typeBorder\": \"\",\r\n    \"headerBorder1\": \"\",\r\n    \"headerBorder2\": \"\",\r\n    \"textBorder\": \"\",\r\n    \"notesBorder\": \"\",\r\n\r\n    \"borderStroke1\": \"1\",\r\n    \"borderStroke2\": \"0.5\",\r\n    \"nameStroke\": \"0.3\",\r\n    \"typeStroke\": \"\",\r\n    \"headerStroke1\": \"\",\r\n    \"headerStroke2\": \"\",\r\n    \"textStroke\": \"\",\r\n    \"notesStroke\": \"\",\r\n\r\n    \"headerFont\": \"HeroQuest\",\r\n    \"textFont\": \"HeroQuest\",\r\n    \"notesFont\": \"HeroQuest\",\r\n\r\n    \"textScale1\": 1,\r\n    \"textScale2\": 1,\r\n    \"textScale3\": 1\r\n}`;\r\n\r\nconst alternativeStyle = `{\r\n    \"scale\": 3.3,\r\n    \r\n    \"bgColor\": \"#ff0\",\r\n    \"nameBgColor\": \"#fff\",\r\n    \"typeBgColor\": \"#000\",\r\n    \"headerBgColor\": \"#000\",\r\n    \r\n    \"nameColor\": \"#ff0\",\r\n    \"typeColor\": \"#550\",\r\n    \"textColor\": \"#000\",\r\n    \"headerColor1\": \"#550\",\r\n    \"headerColor2\": \"#ff0\",\r\n    \"notesColor\": \"#000\",\r\n\r\n    \"borderColor\": \"#000\",\r\n    \"nameBorder\": \"#000\",\r\n    \"typeBorder\": \"#ff0\",\r\n    \"headerBorder1\": \"#ff0\",\r\n    \"headerBorder2\": \"\",\r\n    \"textBorder\": \"\",\r\n    \"notesBorder\": \"\",\r\n\r\n    \"borderStroke1\": \"1\",\r\n    \"borderStroke2\": \"0.5\",\r\n    \"nameStroke\": \"0.3\",\r\n    \"typeStroke\": \"0.1\",\r\n    \"headerStroke1\": \"0.2\",\r\n    \"headerStroke2\": \"\",\r\n    \"textStroke\": \"\",\r\n    \"notesStroke\": \"\",\r\n\r\n    \"headerFont\": \"Shojumaru\",\r\n    \"textFont\": \"Shojumaru\",\r\n    \"notesFont\": \"Langar\",\r\n    \"textScale1\": 1,\r\n    \"textScale2\": 0.7,\r\n    \"textScale3\": 0.9\r\n}`;\r\n\r\nconst uglyStyle = `{\r\n    \"scale\": 5,\r\n    \r\n    \"bgColor\": \"red\",\r\n    \"nameBgColor\": \"orange\",\r\n    \"typeBgColor\": \"olive\",\r\n    \"headerBgColor\": \"green\",\r\n    \r\n    \"nameColor\": \"black\",\r\n    \"typeColor\": \"white\",\r\n    \"textColor\": \"yellow\",\r\n    \"headerColor1\": \"orange\",\r\n    \"headerColor2\": \"red\",\r\n    \"notesColor\": \"white\",\r\n\r\n    \"borderColor\": \"pink\",\r\n    \"nameBorder\": \"white\",\r\n    \"typeBorder\": \"black\",\r\n    \"headerBorder1\": \"blue\",\r\n    \"headerBorder2\": \"black\",\r\n    \"textBorder\": \"black\",\r\n    \"notesBorder\": \"black\",\r\n\r\n    \"borderStroke1\": \"1\",\r\n    \"borderStroke2\": \"0.5\",\r\n    \"nameStroke\": \"0.5\",\r\n    \"typeStroke\": \"0.7\",\r\n    \"headerStroke1\": \"0.2\",\r\n    \"headerStroke2\": \"0.2\",\r\n    \"textStroke\": \"0.2\",\r\n    \"notesStroke\": \"1\",\r\n\r\n    \"headerFont\": \"UnifrakturCook\",\r\n    \"textFont\": \"UnifrakturCook\",\r\n    \"notesFont\": \"Ramaraja\",\r\n\r\n    \"textScale1\": 1.2,\r\n    \"textScale2\": 1,\r\n    \"textScale3\": 1\r\n}`;\r\n\r\nconst defaultLabels = `{\r\n    \"chars\": [\"Sp\", \"WS\", \"BS\", \"S\", \"T\", \"W\", \"Br\", \"Int\",\"PV\" ],\r\n    \"handToHand\": {\r\n        \"handToHand\": \"Hand To Hand\",\r\n        \"fumble\": \"Fumble\",\r\n        \"critical\": \"Critical\",\r\n        \"targetWs\": \"Target\\\\nWs\",\r\n        \"hitRoll\": \"Hit\\\\nRoll\",\r\n        \"damageDice\": \"Dmg\\\\nDice\"\r\n    },\r\n    \"rangeStats\": {\r\n        \"rangeStats\": \"Ranged\",\r\n        \"fumble\": \"Fumble\",\r\n        \"critical\": \"Critical\",\r\n        \"range\": \"Range\",\r\n        \"maxRange\": \"Max\\\\nRange\",\r\n        \"damageDice\": \"Dmg\\\\nDice\",\r\n        \"hitRoll\": \"Hit\\\\nRoll\"\r\n    },\r\n    \"notes\": \"Equipment & Notes\"\r\n}`;\r\n\r\nconst statsLabels = {\r\n    'default': {\r\n        chars: [\"Sp\", \"WS\", \"BS\", \"S\", \"T\", \"W\", \"Br\", \"Int\",\"PV\" ],\r\n        handToHand: {\r\n            handToHand: \"Hand To Hand\",\r\n            fumble: \"Fumble\",\r\n            critical: \"Critical\",\r\n            targetWs: \"Target\\nWs\",\r\n            hitRoll: \"Hit\\nRoll\",\r\n            damageDice: \"Dmg\\nDice\"\r\n        },\r\n        rangeStats: {\r\n            rangeStats: \"Ranged\",\r\n            fumble: \"Fumble\",\r\n            critical: \"Critical\",\r\n            range: \"Range\",\r\n            maxRange: \"Max\\nRange\",\r\n            damageDice: \"Dmg\\nDice\",\r\n            hitRoll: \"Hit\\nRoll\",\r\n        },\r\n        notes: \"Equipment & Notes\"\r\n    }\r\n}\r\n\r\nexport default {\r\n    statsLabels,\r\n    templateStates,\r\n    templateStatesAlternate,\r\n    defaultStyle,\r\n    alternativeStyle,\r\n    uglyStyle,\r\n    heroquestStyle,\r\n    defaultLabels\r\n};","const parseStatsBlock = (txt) => {\r\n    const getOrDefault = (arr, i, def=\"\") => {\r\n      if(arr && arr.length > i){\r\n        return arr[i];\r\n      }\r\n  \r\n      return def;\r\n    }\r\n      \r\n    const lines = txt.split('\\n');\r\n    const names = getOrDefault(lines, 0).split(\",\")\r\n    const handToHand =  getOrDefault(lines, 2).split(',').map(w => w.trim());\r\n    const ranged  = getOrDefault(lines, 4).split(',').map(w => w.trim());\r\n    \r\n    \r\n    return {\r\n      name: getOrDefault(names, 0).trim(),\r\n      type: getOrDefault(names, 1).trim(),\r\n      chars: getOrDefault(lines, 1).split(',').map(w => w.trim()),\r\n      handToHand: {\r\n        damageDice: getOrDefault(handToHand, 0),\r\n        fumble: getOrDefault(handToHand, 1),\r\n        critical: getOrDefault(handToHand, 2),\r\n        hitRolls: getOrDefault(lines, 3).split(',').map(w => w.trim())\r\n      },\r\n      rangeStats: {\r\n        maxRange: getOrDefault(ranged, 0),\r\n        damageDice: getOrDefault(ranged, 1),\r\n        fumble: getOrDefault(ranged, 2),\r\n        critical: getOrDefault(ranged, 3),\r\n        hitRanges: getOrDefault(lines, 5).split(',').map(w => w.trim()),\r\n        hitRolls: getOrDefault(lines, 6).split(',').map(w => w.trim())\r\n      },\r\n      notes: lines.slice(7, 10)\r\n    }\r\n  }\r\n  \r\nconst parseStats = (txt) => {\r\n    try {\r\n      const blocks = txt.split(\"@:\").map(l => l.trim()).filter(l => l !== \"\");\r\n      return blocks.map(b => parseStatsBlock(b))\r\n    } catch(e) {\r\n      console.error(e);\r\n      return [];\r\n    }\r\n  }\r\n  \r\nconst parseStyle = (txt) => JSON.parse(txt);\r\nconst parseLabels = (txt) => JSON.parse(txt);\r\n\r\nexport default {\r\n  parseStats,\r\n  parseStyle,\r\n  parseLabels\r\n};","import React, { useState } from 'react';\r\nimport Stats from \"./Stats\"\r\nimport Settings from \"../utils/Settings\"\r\nimport Parses from \"../utils/Parser\";\r\nimport '../styles/App.scss';\r\n\r\nconst EmbededFontsList = [\r\n  \"Frijole\",\r\n  \"Shojumaru\",\r\n  \"Ruslan Display\",\r\n  \"Lemon\",\r\n  \"Staatliches\",\r\n  \"Langar\",\r\n  \"UnifrakturCook\",\r\n  \"Ramaraja\",\r\n  \"Caveat\",\r\n  \"Indie Flower\",\r\n  \"Shadows Into Light\"\r\n];\r\n\r\nfunction App() {\r\n  const [editorSettings, setEditorSettings] = useState({editStats: true, editStyle: false, editLabels: false});\r\n  const [statsText, setStatsText] = useState(() => (localStorage.getItem(\"stats\") || Settings.templateStates));\r\n  const [styleText, setStyleText] = useState(() => (localStorage.getItem(\"style\") || Settings.defaultStyle));\r\n  const [labelsText, setLabelsText] = useState(() => (localStorage.getItem(\"labels\") || Settings.defaultLabels));\r\n\r\n  const [stats, setStats] = useState(() => Parses.parseStats(localStorage.getItem(\"stats\") || Settings.templateStates));\r\n  const [style, setStyle] = useState(() => Parses.parseStyle(localStorage.getItem(\"style\") || Settings.defaultStyle))\r\n  const [labels, setLabels] = useState(() => Parses.parseLabels(localStorage.getItem(\"labels\") || Settings.defaultLabels))\r\n\r\n  const onStatsChange = (txt) => {\r\n    setStatsText(txt);\r\n    try {\r\n      setStats(Parses.parseStats(txt));\r\n      localStorage.setItem('stats', txt);\r\n    } catch(e) {\r\n      console.error(e);\r\n      setStats([]);\r\n    }\r\n  }\r\n\r\n  const onStyleChange = (txt) => {\r\n    setStyleText(txt);\r\n    try {\r\n      setStyle(Parses.parseStyle(txt))\r\n      localStorage.setItem('style', txt);\r\n    } catch(e) {\r\n      setStyle(Parses.parseStyle(Settings.defaultStyle))\r\n    }\r\n  }\r\n\r\n  const onLabelsChange = (txt) => {\r\n    setLabelsText(txt);\r\n    try {\r\n      setLabels(Parses.parseLabels(txt))\r\n      localStorage.setItem('labels', txt);\r\n    } catch(e) {\r\n      setLabels(Parses.parseLabels(Settings.defaultLabels))\r\n    }\r\n  }\r\n\r\n  const onInsertTemplate = (template) => () => onStatsChange(statsText + template);\r\n  const onStyleReset = (scheme) => () => onStyleChange(scheme);\r\n  const onLabelsReset = () => onLabelsChange(Settings.defaultLabels);\r\n  const onPrint = () => {\r\n    setEditorSettings({editStats: false, editStyle: false, editLabels: false});\r\n    setTimeout(() => window.print(), 250);\r\n    \r\n  }\r\n  const renderStats = () => {\r\n    return stats.map((s, i) => <Stats \r\n      key={i}\r\n      options={style}\r\n      labels={labels}\r\n      stats={s}\r\n    />)\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"app-header-controls no-print\" >\r\n        <input type=\"checkbox\"  checked={editorSettings.editStats} \r\n          onChange={()=>setEditorSettings({editStats: !editorSettings.editStats, editStyle: false, editLabels: false})} />\r\n        <span>Stats editor</span>\r\n        <input type=\"checkbox\"  checked={editorSettings.editStyle} \r\n          onChange={()=>setEditorSettings({editStats: false, editStyle: !editorSettings.editStyle, editLabels: false})} />\r\n        <span>Style editor</span>\r\n        <input type=\"checkbox\"  checked={editorSettings.editLabels} \r\n          onChange={()=>setEditorSettings({editStats: false, editStyle: false, editLabels: !editorSettings.editLabels})} />\r\n        <span>Labels editor</span>\r\n\r\n        <button onClick={onPrint}>Print</button>\r\n      </div>\r\n\r\n      {(editorSettings.editStats || editorSettings.editStyle || editorSettings.editLabels) && \r\n      <div className=\"app-container\">\r\n        {editorSettings.editStats && \r\n        <div className=\"app-editor no-print\">\r\n          <div>\r\n            <button onClick={onInsertTemplate(Settings.templateStates)}>Insert template</button>\r\n            <button onClick={onInsertTemplate(Settings.templateStatesAlternate)}>Insert template (alternate)</button>\r\n          </div>\r\n          <textarea value={statsText} onChange={(e) => onStatsChange(e.target.value)}/>\r\n        </div>}\r\n        {editorSettings.editStyle && \r\n        <div className=\"app-editor no-print\">\r\n          <div>\r\n            <button onClick={onStyleReset(Settings.defaultStyle)}>Load default style</button>\r\n            <button onClick={onStyleReset(Settings.alternativeStyle)}>Load example style</button>\r\n            <button onClick={onStyleReset(Settings.uglyStyle)}>Load ugly style</button>\r\n            <button onClick={onStyleReset(Settings.heroquestStyle)}>Load HeroQuest style</button>\r\n          </div>\r\n          <div>\r\n            <p>Embeded fonts:</p>\r\n            <ul>\r\n              {EmbededFontsList.map(f => <li style={{fontFamily: f}}>{f}</li>)}\r\n            </ul>\r\n          </div>\r\n          <textarea value={styleText} onChange={(e) => onStyleChange(e.target.value)}/>\r\n        </div>}\r\n        {editorSettings.editLabels && \r\n        <div className=\"app-editor no-print\">\r\n           <div>\r\n            <button onClick={onLabelsReset}>Load default labels</button>\r\n          </div>\r\n          <textarea value={labelsText} onChange={(e) => onLabelsChange(e.target.value)}/>\r\n        </div>}\r\n        <div className=\"app-live-stats\">{renderStats()}</div>\r\n      </div>}\r\n\r\n      {!(editorSettings.editStats || editorSettings.editStyle || editorSettings.editLabels) && renderStats()} \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode> \r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}